import{g as z,ab as ie,r as j,h as se,A,o as ce,p as U,q as k,R as g,v as F,s as ue,Q as le,O as H,_ as G,b as fe,N as D,Z as de,ac as me,z as E}from"./framework-a05dfeeb.js";import{F as pe}from"./fuse-11af6271.js";import{_ as $,i as I}from"./app-315d3ec7.js";function K(e){return typeof e=="function"}$(K,"isFunction");function Q(e,t){return typeof e=="object"&&e?e.constructor===(t??Object):!1}$(Q,"isObject");function Y(e){try{return JSON.parse(e)}catch{return e}}$(Y,"tryParseJSON");var Z=Object.defineProperty,he=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ge=(e,t)=>Z(e,"name",{value:t,configurable:!0}),ve=(e,t,n)=>(he(e,typeof t!="symbol"?t+"":t,n),n),X=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},y=(e,t,n)=>(X(e,t,"read from private field"),n?n.call(e):t.get(e)),V=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},p=(e,t,n,r)=>(X(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),h,d,ee=class{constructor(e=2){ve(this,"digits"),V(this,h,void 0),V(this,d,void 0),this.digits=e,p(this,h,performance.now()),p(this,d,null)}get duration(){return y(this,d)?y(this,d)-y(this,h):performance.now()-y(this,h)}get running(){return Boolean(!y(this,d))}restart(){return p(this,h,performance.now()),p(this,d,null),this}reset(){return p(this,h,performance.now()),p(this,d,y(this,h)),this}start(){return this.running||(p(this,h,performance.now()-this.duration),p(this,d,null)),this}stop(){return this.running&&p(this,d,performance.now()),this}toString(){const e=this.duration;return e>=1e3?`${(e/1e3).toFixed(this.digits)}s`:e>=1?`${e.toFixed(this.digits)}ms`:`${(e*1e3).toFixed(this.digits)}Î¼s`}};ge(ee,"Stopwatch");h=new WeakMap;d=new WeakMap;const ye=[{title:"Old Man's War",author:{firstName:"John",lastName:"Scalzi"}},{title:"The Lock Artist",author:{firstName:"Steve",lastName:"Hamilton"}},{title:"HTML5",author:{firstName:"Remy",lastName:"Sharp"}},{title:"Right Ho Jeeves",author:{firstName:"P.D",lastName:"Woodhouse"}},{title:"The Code of the Wooster",author:{firstName:"P.D",lastName:"Woodhouse"}},{title:"Thank You Jeeves",author:{firstName:"P.D",lastName:"Woodhouse"}},{title:"The DaVinci Code",author:{firstName:"Dan",lastName:"Brown"}},{title:"Angels & Demons",author:{firstName:"Dan",lastName:"Brown"}},{title:"The Silmarillion",author:{firstName:"J.R.R",lastName:"Tolkien"}},{title:"Syrup",author:{firstName:"Max",lastName:"Barry"}},{title:"The Lost Symbol",author:{firstName:"Dan",lastName:"Brown"}},{title:"The Book of Lies",author:{firstName:"Brad",lastName:"Meltzer"}},{title:"Lamb",author:{firstName:"Christopher",lastName:"Moore"}},{title:"Fool",author:{firstName:"Christopher",lastName:"Moore"}},{title:"Incompetence",author:{firstName:"Rob",lastName:"Grant"}},{title:"Fat",author:{firstName:"Rob",lastName:"Grant"}},{title:"Colony",author:{firstName:"Rob",lastName:"Grant"}},{title:"Backwards, Red Dwarf",author:{firstName:"Rob",lastName:"Grant"}},{title:"The Grand Design",author:{firstName:"Stephen",lastName:"Hawking"}},{title:"The Book of Samson",author:{firstName:"David",lastName:"Maine"}},{title:"The Preservationist",author:{firstName:"David",lastName:"Maine"}},{title:"Fallen",author:{firstName:"David",lastName:"Maine"}},{title:"Monster 1959",author:{firstName:"David",lastName:"Maine"}}],be=ye;function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(r){we(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Ne(e,t){if(e==null)return{};var n=Oe(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function je(e,t){return Se(e)||_e(e,t)||Pe(e,t)||De()}function Se(e){if(Array.isArray(e))return e}function _e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,o=void 0;try{for(var l=e[Symbol.iterator](),f;!(r=(f=l.next()).done)&&(n.push(f.value),!(t&&n.length===t));r=!0);}catch(s){a=!0,o=s}finally{try{!r&&l.return!=null&&l.return()}finally{if(a)throw o}}return n}}function Pe(e,t){if(e){if(typeof e=="string")return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}function L(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(r){Me(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(a,o){return o(a)},r)}}function b(e){return function t(){for(var n=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return a.length>=e.length?e.apply(this,a):function(){for(var l=arguments.length,f=new Array(l),s=0;s<l;s++)f[s]=arguments[s];return t.apply(n,[].concat(a,f))}}}function _(e){return{}.toString.call(e).includes("Object")}function Ce(e){return!Object.keys(e).length}function w(e){return typeof e=="function"}function $e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ae(e,t){return _(t)||v("changeType"),Object.keys(t).some(function(n){return!$e(e,n)})&&v("changeField"),t}function Fe(e){w(e)||v("selectorType")}function Ee(e){w(e)||_(e)||v("handlerType"),_(e)&&Object.values(e).some(function(t){return!w(t)})&&v("handlersType")}function Ie(e){e||v("initialIsRequired"),_(e)||v("initialType"),Ce(e)&&v("initialContent")}function Ve(e,t){throw new Error(e[t]||e.default)}var Be={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},v=b(Ve)(Be),S={changes:Ae,selector:Fe,handler:Ee,initial:Ie};function xe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S.initial(e),S.handler(t);var n={current:e},r=b(Je)(n,t),a=b(Re)(n),o=b(S.changes)(e),l=b(Le)(n);function f(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return S.selector(i),i(n.current)}function s(i){Te(r,a,o,l)(i)}return[f,s]}function Le(e,t){return w(t)?t(e.current):t}function Re(e,t){return e.current=J(J({},e.current),t),t}function Je(e,t,n){return w(t)?t(e.current):Object.keys(n).forEach(function(r){var a;return(a=t[r])===null||a===void 0?void 0:a.call(t,e.current[r])}),n}var We={create:xe},qe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};function ze(e){return function t(){for(var n=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return a.length>=e.length?e.apply(this,a):function(){for(var l=arguments.length,f=new Array(l),s=0;s<l;s++)f[s]=arguments[s];return t.apply(n,[].concat(a,f))}}}function Ue(e){return{}.toString.call(e).includes("Object")}function ke(e){return e||W("configIsRequired"),Ue(e)||W("configType"),e.urls?(He(),{paths:{vs:e.urls.monacoBase}}):e}function He(){console.warn(te.deprecation)}function Ge(e,t){throw new Error(e[t]||e.default)}var te={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},W=ze(Ge)(te),Ke={config:ke},Qe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(a){return n.reduceRight(function(o,l){return l(o)},a)}};function ne(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],ne(e[n],t[n]))}),x(x({},e),t)}var Ye={type:"cancelation",msg:"operation is manually canceled"};function M(e){var t=!1,n=new Promise(function(r,a){e.then(function(o){return t?a(Ye):r(o)}),e.catch(a)});return n.cancel=function(){return t=!0},n}var Ze=We.create({config:qe,isInitialized:!1,resolve:null,reject:null,monaco:null}),re=je(Ze,2),O=re[0],P=re[1];function Xe(e){var t=Ke.config(e),n=t.monaco,r=Ne(t,["monaco"]);P(function(a){return{config:ne(a.config,r),monaco:n}})}function et(){var e=O(function(t){var n=t.monaco,r=t.isInitialized,a=t.resolve;return{monaco:n,isInitialized:r,resolve:a}});if(!e.isInitialized){if(P({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),M(T);if(window.monaco&&window.monaco.editor)return ae(window.monaco),e.resolve(window.monaco),M(T);Qe(tt,rt)(at)}return M(T)}function tt(e){return document.body.appendChild(e)}function nt(e){var t=document.createElement("script");return e&&(t.src=e),t}function rt(e){var t=O(function(r){var a=r.config,o=r.reject;return{config:a,reject:o}}),n=nt("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function at(){var e=O(function(n){var r=n.config,a=n.resolve,o=n.reject;return{config:r,resolve:a,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){ae(n),e.resolve(n)},function(n){e.reject(n)})}function ae(e){O().monaco||P({monaco:e})}function ot(){return O(function(e){var t=e.monaco;return t})}var T=new Promise(function(e,t){return P({resolve:e,reject:t})}),it={config:Xe,init:et,__getMonacoInstance:ot};const q=it,st={class:"header"},ct=["id"],ut=z({__name:"MonacoEditor",props:{language:{},modelValue:{},id:{},fileName:{},fileDescription:{},readonly:{type:Boolean}},emits:["update:modelValue","load"],async setup(e,{expose:t,emit:n}){let r,a;const o=e,l=K(q.init)?([r,a]=ie(()=>q.init()),r=await r,a(),r):void 0,f=j(!0),s=se(()=>o.language),i=j(),c=j(l);let u,m;const N=j();return A(()=>o.modelValue,()=>{(u==null?void 0:u.getValue())!==o.modelValue&&(u==null||u.setValue(o.modelValue))}),A(()=>o.language,()=>{m&&m.dispose(),m=c.value.editor.createModel(o.modelValue,s.value),u==null||u.setModel(m)}),t({$editor:N}),ce(()=>{u=c.value.editor.create(i.value,{language:o.language,automaticLayout:!0,selectOnLineNumbers:!0,wordWrap:"on",wrappingStrategy:"advanced",minimap:{enabled:!1},autoClosingQuotes:"always",bracketPairColorization:{enabled:!0},colorDecorators:!0,cursorBlinking:"expand",cursorSmoothCaretAnimation:!0,fontLigatures:!0,fontFamily:'"Fira Code", "JetBrains Mono", "Menlo", "Monaco", "Consolas", "Courier New", "monospace"',formatOnPaste:!0,guides:{bracketPairs:!0},theme:"vs-dark",smartSelect:{selectLeadingAndTrailingWhitespace:!0},tabCompletion:"on",useShadowDOM:!0,scrollBeyondLastLine:!1,...o.readonly&&{readOnly:!0,contextmenu:!1}}),N.value=u,m=c.value.editor.createModel(o.modelValue,s.value),u.setModel(m),u.onDidChangeModelContent(()=>{n("update:modelValue",u.getValue())}),f.value=!1,n("load",u)}),(oe,mt)=>(U(),k(H,null,[g("div",st,[g("div",null,F(o.fileName),1),g("div",null,F(o.fileDescription),1)]),g("div",{id:o.id,class:"editor",ref_key:"editorElement",ref:i},[f.value?ue(oe.$slots,"default",{key:0},void 0,!0):le("v-if",!0)],8,ct)],64))}});const C=G(ut,[["__scopeId","data-v-581a72ae"],["__file","MonacoEditor.vue"]]),lt={class:"search-section"},ft={class:"monaco-editor-results"},dt=z({__name:"Demo",setup(e){const t={isCaseSensitive:!1,includeScore:!1,ignoreDiacritics:!1,shouldSort:!0,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};function n(s,i=t){return`
const Fuse = require('fuse.js');

const fuseOptions = {
${Object.entries(i).map(([c,u])=>`	// ${c}: ${u},`).join(`
`)}
	keys: [
		"title",
		"author.firstName"
	]
};

const fuse = new Fuse(list, fuseOptions);

// Change the pattern
const searchPattern = "${s}"

return fuse.search(searchPattern)`}const r=fe({searchPattern:"",jsonData:JSON.stringify(be,null,2),mainJsData:n(""),resultsData:JSON.stringify({},null,2),count:null,searchTime:null,fuseSearchOptions:t});function a(s){let i=s.split(`
`);return i=i.filter(c=>!c.startsWith("//")),i.join(`
`)}function o(s){const i=a(s.replace(/const Fuse = require\('fuse\.js'\);\n\n/,"").replace(/const fuse = new Fuse\(list, fuseOptions\);\n\n/,"").replace(/\/\/ Change the pattern\n/,"").replace(/const searchPattern = ".+"\n\n/,"").replace(/return fuse\.search\(searchPattern\)/,"").replace(/\n\n/,"").replace(/\t/g,"").replaceAll(";","").replace(/const fuseOptions = /,"")).replaceAll(/([a-zA-Z]+):/g,'"$1":'),c=Y(i);f(Q(c)?c:void 0)}function l(){r.mainJsData=n(r.searchPattern,r.fuseSearchOptions),f()}function f(s=r.fuseSearchOptions){try{const i={keys:["title","author.firstName"],...s},c=new pe(JSON.parse(r.jsonData),i),u=new ee,m=c.search(r.searchPattern),N=u.stop().duration;r.count=m.length,r.searchTime=N.toFixed(1),r.resultsData=JSON.stringify(m,null,2)}catch{r.count=null,r.searchTime=null,r.resultsData=JSON.stringify({},null,2)}}return(s,i)=>(U(),k(H,null,[g("section",null,[D(C,{language:"json",modelValue:r.jsonData,"onUpdate:modelValue":i[0]||(i[0]=c=>r.jsonData=c),id:"json-list-monaco-editor","file-name":"list.json","file-description":"list of items to search"},null,8,["modelValue"])]),g("section",lt,[de(g("input",{type:"text",class:"search-section-input","onUpdate:modelValue":i[1]||(i[1]=c=>r.searchPattern=c),onKeyup:l,placeholder:"Search..."},null,544),[[me,r.searchPattern]])]),g("section",null,[D(C,{language:"javascript",modelValue:r.mainJsData,"onUpdate:modelValue":[i[2]||(i[2]=c=>r.mainJsData=c),o],id:"main-monaco-editor","file-name":"main.js","file-description":"entry module"},null,8,["modelValue"])]),g("section",ft,[D(C,{language:"json",modelValue:r.resultsData,"onUpdate:modelValue":i[3]||(i[3]=c=>r.resultsData=c),id:"main-monaco-editor","file-name":"Results:","file-description":E(I)(r.count)||E(I)(r.searchTime)?"":"found "+r.count+" in "+r.searchTime+"ms",readonly:""},null,8,["modelValue","file-description"])])],64))}});const vt=G(dt,[["__scopeId","data-v-fe49bab9"],["__file","Demo.vue"]]);export{vt as default};
